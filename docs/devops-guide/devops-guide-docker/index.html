<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<title data-rh="true">Self-Hosting Guide - Docker | Jitsi Meet</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jitsi.github.io/handbook/img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://jitsi.github.io/handbook/img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-docker"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Self-Hosting Guide - Docker | Jitsi Meet"><meta data-rh="true" name="description" content="Quick start"><meta data-rh="true" property="og:description" content="Quick start"><link data-rh="true" rel="icon" href="/handbook/img/favicon.png"><link data-rh="true" rel="canonical" href="https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-docker"><link data-rh="true" rel="alternate" href="https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-docker" hreflang="en"><link data-rh="true" rel="alternate" href="https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-docker" hreflang="x-default"><link rel="stylesheet" href="/handbook/assets/css/styles.54ca1be6.css">
<link rel="preload" href="/handbook/assets/js/runtime~main.59783452.js" as="script">
<link rel="preload" href="/handbook/assets/js/main.a9d5cd87.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/handbook/"><div class="navbar__logo"><img src="/handbook/img/logo.svg" alt="Jitsi Meet Handbook" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/handbook/img/logo.svg" alt="Jitsi Meet Handbook" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Jitsi Meet Handbook</b></a><a class="navbar__item navbar__link" href="/handbook/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/handbook/docs/releases">Releases</a><a href="https://community.jitsi.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jitsi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/community/community-intro">Community</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/user-guide/">User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/dev-guide/">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/handbook/docs/devops-guide/">Self-Hosting Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/devops-guide/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/handbook/docs/devops-guide/devops-guide-quickstart">Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/devops-guide/devops-guide-quickstart">Debian/Ubuntu server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/devops-guide/devops-guide-opensuse">openSUSE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/handbook/docs/devops-guide/devops-guide-docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/devops-guide/devops-guide-manual">Manual installation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/handbook/docs/devops-guide/secure-domain">Configuration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/devops-guide/devops-guide-videotutorials">Video Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/devops-guide/faq">FAQ</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/handbook/">üè†</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Self-Hosting Guide</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Deployment</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/handbook/docs/devops-guide/devops-guide-docker">Docker</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Self-Hosting Guide - Docker</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="quick-start">Quick start<a class="hash-link" href="#quick-start" title="Direct link to heading">‚Äã</a></h2><p>In order to quickly run Jitsi Meet on a machine running Docker and Docker Compose,
follow these steps:</p><ol><li><p>Download and extract the <a href="https://github.com/jitsi/docker-jitsi-meet/releases/latest" target="_blank" rel="noopener noreferrer">latest release</a>. <strong>DO NOT</strong> clone the git repository. See below if you are interested in running test images.</p></li><li><p>Create a <code>.env</code> file by copying and adjusting <code>env.example</code>:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> env.example .env</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Set strong passwords in the security section options of <code>.env</code> file by running the following bash script</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">./gen-passwords.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Create required <code>CONFIG</code> directories</p><ul><li>For linux: </li></ul><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p ~/.jitsi-meet-cfg/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">web/crontabs,web/letsencrypt,transcripts,prosody/config,prosody/prosody-plugins-custom,jicofo,jvb,jigasi,jibri</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>For Windows: </li></ul><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> web/crontabs,web/letsencrypt,transcripts,prosody/config,prosody/prosody-plugins-custom,jicofo,jvb,jigasi,jibri </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> % </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;~/.jitsi-meet-cfg/</span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Run <code>docker-compose up -d</code></p></li><li><p>Access the web UI at <a href="https://localhost:8443" target="_blank" rel="noopener noreferrer"><code>https://localhost:8443</code></a> (or a different port, in case you edited the compose file).</p></li></ol><p>Note that HTTP (not HTTPS) is also available (on port 8000, by default), but that&#x27;s e.g. for a reverse proxy setup;
direct access via HTTP instead HTTPS leads to WebRTC errors such as <em>Failed to access your microphone/camera: Cannot use microphone/camera for an unknown reason. Cannot read property &#x27;getUserMedia&#x27; of undefined</em> or <em>navigator.mediaDevices is undefined</em>.</p><p>If you want to use jigasi too, first configure your env file with SIP credentials
and then run Docker Compose as follows: </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose.yml -f jigasi.yml up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If you want to enable document sharing via <a href="https://github.com/ether/etherpad-lite" target="_blank" rel="noopener noreferrer">Etherpad</a>, configure it and run Docker Compose as
follows: </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose.yml -f etherpad.yml up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If you want to use jibri too, first configure a host as described in JItsi BRoadcasting Infrastructure configuration section
and then run Docker Compose as follows:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose.yml -f jibri.yml up -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>or to use jigasi too:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose.yml -f jigasi.yml -f jibri.yml up -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="testing-development-builds">Testing development builds<a class="hash-link" href="#testing-development-builds" title="Direct link to heading">‚Äã</a></h3><p>Download the latest code:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/jitsi/docker-jitsi-meet </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> docker-jitsi-meet</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The code in <code>master</code> is designed to work with the unstable images. Do not run it with release images.</p></div></div><p>Build your own images:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">JITSI_RELEASE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">unstable </span><span class="token function" style="color:#d73a49">make</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="running-unstable-images">Running unstable images<a class="hash-link" href="#running-unstable-images" title="Direct link to heading">‚Äã</a></h3><p>Every day a new &quot;unstable&quot; image build is uploaded. You can test them by getting the YAML files from the repository and changing <code>latest</code> to <code>unstable</code> or <code>ustable-YYYY-MM-DD</code> for the unstable images of a specific day.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="security-note">Security note<a class="hash-link" href="#security-note" title="Direct link to heading">‚Äã</a></h3><p>This setup used to have default passwords for internal accounts used across components. In order to make the default setup
secure by default these have been removed and the respective containers won&#x27;t start without having a password set.</p><p>Strong passwords may be generated as follows: <code>./gen-passwords.sh</code>
This will modify your <code>.env</code> file (a backup is saved in <code>.env.bak</code>) and set strong passwords for each of the
required options. Passwords are generated using <code>openssl rand -hex 16</code> .</p><p>DO NOT reuse any of the passwords.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="architecture">Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">‚Äã</a></h2><p>A Jitsi Meet installation can be broken down into the following components:</p><ul><li>A web interface</li><li>An XMPP server</li><li>A conference focus component</li><li>A video router (could be more than one)</li><li>A SIP gateway for audio calls</li><li>A Broadcasting Infrastructure for recording or streaming a conference.</li></ul><p><img loading="lazy" src="/handbook/assets/images/docker-jitsi-meet-afafdf87fea30a2fa6412baa4a3f8248.png" width="882" height="505"></p><p>The diagram shows a typical deployment in a host running Docker. This project
separates each of the components above into interlinked containers. To this end,
several container images are provided.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="external-ports">External Ports<a class="hash-link" href="#external-ports" title="Direct link to heading">‚Äã</a></h3><p>The following external ports must be opened on a firewall:</p><ul><li><code>80/tcp</code> for Web UI HTTP (really just to redirect, after uncommenting <code>ENABLE_HTTP_REDIRECT=1</code> in <code>.env</code>)</li><li><code>443/tcp</code> for Web UI HTTPS</li><li><code>4443/tcp</code> for RTP media over TCP</li><li><code>10000/udp</code> for RTP media over UDP</li></ul><p>Also <code>20000-20050/udp</code> for jigasi, in case you choose to deploy that to facilitate SIP access.</p><p>E.g. on a CentOS/Fedora server this would be done like this (without SIP access):</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">80</span><span class="token plain">/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">443</span><span class="token plain">/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4443</span><span class="token plain">/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10000</span><span class="token plain">/udp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> firewall-cmd --reload</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="images">Images<a class="hash-link" href="#images" title="Direct link to heading">‚Äã</a></h3><ul><li><strong>base</strong>: Debian stable base image with the <a href="https://github.com/just-containers/s6-overlay" target="_blank" rel="noopener noreferrer">S6 Overlay</a> for process control and the
<a href="https://jitsi.org/downloads/" target="_blank" rel="noopener noreferrer">Jitsi repositories</a> enabled. All other images are based on this one.</li><li><strong>base-java</strong>: Same as the above, plus Java (OpenJDK).</li><li><strong>web</strong>: Jitsi Meet web UI, served with nginx.</li><li><strong>prosody</strong>: <a href="https://prosody.im/" target="_blank" rel="noopener noreferrer">Prosody</a>, the XMPP server.</li><li><strong>jicofo</strong>: <a href="https://github.com/jitsi/jicofo" target="_blank" rel="noopener noreferrer">Jicofo</a>, the XMPP focus component.</li><li><strong>jvb</strong>: <a href="https://github.com/jitsi/jitsi-videobridge" target="_blank" rel="noopener noreferrer">Jitsi Videobridge</a>, the video router.</li><li><strong>jigasi</strong>: <a href="https://github.com/jitsi/jigasi" target="_blank" rel="noopener noreferrer">Jigasi</a>, the SIP (audio only) gateway.</li><li><strong>etherpad</strong>: <a href="https://github.com/ether/etherpad-lite" target="_blank" rel="noopener noreferrer">Etherpad</a>, shared document editing addon.</li><li><strong>jibri</strong>: <a href="https://github.com/jitsi/jibri" target="_blank" rel="noopener noreferrer">Jibri</a>, the broadcasting infrastructure.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="design-considerations">Design considerations<a class="hash-link" href="#design-considerations" title="Direct link to heading">‚Äã</a></h3><p>Jitsi Meet uses XMPP for signaling, thus the need for the XMPP server. The setup provided
by these containers does not expose the XMPP server to the outside world. Instead, it&#x27;s kept
completely sealed, and routing of XMPP traffic only happens on a user-defined network.</p><p>The XMPP server can be exposed to the outside world, but that&#x27;s out of the scope of this
project.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">‚Äã</a></h2><p>The configuration is performed via environment variables contained in a <code>.env</code> file. You
can copy the provided <code>env.example</code> file as a reference.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>CONFIG</code></td><td>Directory where all configuration will be stored</td><td>/opt/jitsi-meet-cfg</td></tr><tr><td><code>TZ</code></td><td>System Time Zone</td><td>Europe/Amsterdam</td></tr><tr><td><code>HTTP_PORT</code></td><td>Exposed port for HTTP traffic</td><td>8000</td></tr><tr><td><code>HTTPS_PORT</code></td><td>Exposed port for HTTPS traffic</td><td>8443</td></tr><tr><td><code>DOCKER_HOST_ADDRESS</code></td><td>IP address of the Docker host, needed for LAN environments</td><td>192.168.1.1</td></tr><tr><td><code>PUBLIC_URL</code></td><td>Public URL for the web service</td><td><a href="https://meet.example.com" target="_blank" rel="noopener noreferrer">https://meet.example.com</a></td></tr></tbody></table><p><strong>NOTE</strong>: The mobile apps won&#x27;t work with self-signed certificates (the default).
See below for instructions on how to obtain a proper certificate with Let&#x27;s Encrypt.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="lets-encrypt-configuration">Let&#x27;s Encrypt configuration<a class="hash-link" href="#lets-encrypt-configuration" title="Direct link to heading">‚Äã</a></h3><p>If you plan on exposing this container setup to the outside traffic directly and
want a proper TLS certificate, you are in luck because Let&#x27;s Encrypt support is
built right in. Here are the required options:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_LETSENCRYPT</code></td><td>Enable Let&#x27;s Encrypt certificate generation</td><td>1</td></tr><tr><td><code>LETSENCRYPT_DOMAIN</code></td><td>Domain for which to generate the certificate</td><td>meet.example.com</td></tr><tr><td><code>LETSENCRYPT_EMAIL</code></td><td>E-Mail for receiving important account notifications (mandatory)</td><td><a href="mailto:alice@atlanta.net" target="_blank" rel="noopener noreferrer">alice@atlanta.net</a></td></tr></tbody></table><p>In addition, you will need to set <code>HTTP_PORT</code> to 80 and <code>HTTPS_PORT</code> to 443 and PUBLIC_URL to your domain. You might also consider to redirect HTTP traffic to HTTPS by setting <code>ENABLE_HTTP_REDIRECT=1</code>.</p><p><strong>Let&#x27;s Encrypt rate limit warning</strong>: Let&#x27;s Encrypt has a limit to how many times you can submit a request
for a new certificate for your domain name. At the time of writing, the current limit is five new (duplicate)
certificates for the same domain name every seven days. Because of this, it is recommended that you disable the
Let&#x27;s Encrypt enviroment variables from <code>.env</code> if you plan on deleting the <code>.jitsi-meet-cfg</code> folder. Otherwise, you
might want to consider moving the <code>.jitsi-meet-cfg</code> folder to a different location so you have a safe place to find
the certificate that already Let&#x27;s Encrypt issued. Or do initial testing with Let&#x27;s Encrypt disabled, then re-enable
Let&#x27;s Encrypt once you are done testing.</p><p>For more information on Let&#x27;s Encrypt&#x27;s rate limits, visit:
<a href="https://letsencrypt.org/docs/rate-limits/" target="_blank" rel="noopener noreferrer">https://letsencrypt.org/docs/rate-limits/</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sip-gateway-configuration">SIP gateway configuration<a class="hash-link" href="#sip-gateway-configuration" title="Direct link to heading">‚Äã</a></h3><p>If you want to enable the SIP gateway, these options are required:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>JIGASI_SIP_URI</code></td><td>SIP URI for incoming / outgoing calls</td><td><a href="mailto:test@sip2sip.info" target="_blank" rel="noopener noreferrer">test@sip2sip.info</a></td></tr><tr><td><code>JIGASI_SIP_PASSWORD</code></td><td>Password for the specified SIP account</td><td>passw0rd</td></tr><tr><td><code>JIGASI_SIP_SERVER</code></td><td>SIP server (use the SIP account domain if in doubt)</td><td>sip2sip.info</td></tr><tr><td><code>JIGASI_SIP_PORT</code></td><td>SIP server port</td><td>5060</td></tr><tr><td><code>JIGASI_SIP_TRANSPORT</code></td><td>SIP transport</td><td>UDP</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="display-dial-in-information">Display Dial-In information<a class="hash-link" href="#display-dial-in-information" title="Direct link to heading">‚Äã</a></h4><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>DIALIN_NUMBERS_URL</code></td><td>URL to the JSON with all Dial-In numbers</td><td><a href="https://meet.example.com/dialin.json" target="_blank" rel="noopener noreferrer">https://meet.example.com/dialin.json</a></td></tr><tr><td><code>CONFCODE_URL</code></td><td>URL to the API for checking/generating Dial-In codes</td><td><a href="https://jitsi-api.jitsi.net/conferenceMapper" target="_blank" rel="noopener noreferrer">https://jitsi-api.jitsi.net/conferenceMapper</a></td></tr></tbody></table><p>The JSON with the Dial-In numbers should look like this:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Dial-In numbers:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;numbers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;DE&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;+49-721-0000-0000&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;numbersEnabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="jitsi-broadcasting-infrastructure-jibri-configuration">Jitsi Broadcasting Infrastructure (Jibri) configuration<a class="hash-link" href="#jitsi-broadcasting-infrastructure-jibri-configuration" title="Direct link to heading">‚Äã</a></h3><p>Before running Jibri, you need to set up an ALSA loopback device on the host. This <strong>will not</strong>
work on a non-Linux host.</p><p>For CentOS 7, the module is already compiled with the kernel, so just run:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># configure 5 capture/playback interfaces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;options snd-aloop enable=1,1,1,1,1 index=0,1,2,3,4&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /etc/modprobe.d/alsa-loopback.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># setup autoload the module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;snd_aloop&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /etc/modules-load.d/snd_aloop.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># load the module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modprobe snd-aloop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check that the module is loaded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lsmod </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> snd_aloop</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>For Ubuntu:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># install the module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> update </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> linux-image-extra-virtual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># configure 5 capture/playback interfaces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;options snd-aloop enable=1,1,1,1,1 index=0,1,2,3,4&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /etc/modprobe.d/alsa-loopback.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># setup autoload the module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;snd-aloop&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> /etc/modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check that the module is loaded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lsmod </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> snd_aloop</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>NOTE: If you are running on AWS you may need to reboot your machine to use the generic kernel instead
of the &quot;aws&quot; kernel. If after reboot, your machine is still using the &quot;aws&quot; kernel, you&#x27;ll need to manually update the grub file. So just run:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># open the grub file in editor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">nano</span><span class="token plain"> /etc/default/grub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Modify the value of GRUB_DEFAULT from &quot;0&quot; to &quot;1&gt;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Save and exit from file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Update grub</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">update-grub</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Reboot the machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">reboot</span><span class="token plain"> now</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If you want to enable Jibri these options are required:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_RECORDING</code></td><td>Enable recording conference to local disk</td><td>1</td></tr></tbody></table><p>Extended Jibri configuration:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>JIBRI_RECORDER_USER</code></td><td>Internal recorder user for Jibri client connections</td><td>recorder</td></tr><tr><td><code>JIBRI_RECORDER_PASSWORD</code></td><td>Internal recorder password for Jibri client connections</td><td>passw0rd</td></tr><tr><td><code>JIBRI_RECORDING_DIR</code></td><td>Directory for recordings inside Jibri container</td><td>/config/recordings</td></tr><tr><td><code>JIBRI_FINALIZE_RECORDING_SCRIPT_PATH</code></td><td>The finalizing script. Will run after recording is complete</td><td>/config/finalize.sh</td></tr><tr><td><code>JIBRI_XMPP_USER</code></td><td>Internal user for Jibri client connections.</td><td>jibri</td></tr><tr><td><code>JIBRI_STRIP_DOMAIN_JID</code></td><td>Prefix domain for strip inside Jibri (please see env.example for details)</td><td>muc</td></tr><tr><td><code>JIBRI_BREWERY_MUC</code></td><td>MUC name for the Jibri pool</td><td>jibribrewery</td></tr><tr><td><code>JIBRI_PENDING_TIMEOUT</code></td><td>MUC connection timeout</td><td>90</td></tr><tr><td><code>JIBRI_LOGS_DIR</code></td><td>Directory for logs inside Jibri container</td><td>/config/logs</td></tr></tbody></table><p>For using multiple Jibri instances, you have to select different loopback interfaces for each instance manually.</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Set interface in file `/home/jibri/.asoundrc` inside a docker container.</summary><div><div class="collapsibleContent_i85q"><p>  Default the first instance has:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback,0,0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback,0,1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback,1,1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback,1,0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>  To setup the second instance, run container with changed <code>/home/jibri/.asoundrc</code>:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback_1,0,0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback_1,0,1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback_1,1,1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:Loopback_1,1,0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>  Also you can use numbering id for set loopback interface. The third instance will have <code>.asoundrc</code> that looks like:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:2,0,0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:2,0,1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:2,1,1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slave.pcm &quot;hw:2,1,0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_mojV" id="jitsi-meet-web-configuration">Jitsi-Meet web configuration<a class="hash-link" href="#jitsi-meet-web-configuration" title="Direct link to heading">‚Äã</a></h3><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>This section partly contains duplicate settings</h5></div><div class="admonition-content"><p>There are settings within your <code>docker-compose.yml</code> like <code>START_AUDIO_MUTED</code>
that will be overwritten if you follow the below guide.</p></div></div><p>Jitsi-Meet uses two configuration files for changing default settings within
the web interface: <code>config.js</code> and <code>interface_config.js</code>. The files are
located within the <code>CONFIG</code> directory configured within your environment file.</p><p>These files are re-created on every container restart.
If you&#x27;d like to provide your own settings, create your own config files:
<code>custom-config.js</code> and <code>custom-interface_config.js</code>.</p><p>It&#x27;s enough to provide your relevant settings only, the docker scripts will
append your custom files to the default ones!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">‚Äã</a></h3><p>Authentication can be controlled with the environment variables below. If guest
access is enabled, unauthenticated users will need to wait until a user authenticates
before they can join a room. If guest access is not enabled, every user will need
to authenticate before they can join.</p><p>If authentication is enabled, once an authenticated user logged in, it is always logged in before the session timeout.You can set <code>ENABLE_AUTO_LOGIN=0</code> to disable this default auto login feature.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_AUTH</code></td><td>Enable authentication</td><td>1</td></tr><tr><td><code>ENABLE_GUESTS</code></td><td>Enable guest access</td><td>1</td></tr><tr><td><code>AUTH_TYPE</code></td><td>Select authentication type (internal, jwt or ldap)</td><td>internal</td></tr><tr><td><code>ENABLE_AUTO_LOGIN</code></td><td>Enable auto login</td><td>1</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="internal-authentication">Internal authentication<a class="hash-link" href="#internal-authentication" title="Direct link to heading">‚Äã</a></h4><p>The default authentication mode (<code>internal</code>) uses XMPP credentials to authenticate users.
To enable it you have to enable authentication with <code>ENABLE_AUTH</code> and set <code>AUTH_TYPE</code> to <code>internal</code>,
then configure the settings you can see below.</p><p>Internal users must be created with the <code>prosodyctl</code> utility in the <code>prosody</code> container.
In order to do that, first, execute a shell in the corresponding container:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> prosody /bin/bash</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Once in the container, run the following command to create a user:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">prosodyctl --config /config/prosody.cfg.lua register TheDesiredUsername meet.jitsi TheDesiredPassword</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Note that the command produces no output.</p><p>To delete a user, run the following command in the container:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">prosodyctl --config /config/prosody.cfg.lua unregister TheDesiredUsername meet.jitsi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>To list all users, run the following command in the container:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">find</span><span class="token plain"> /config/data/meet%2ejitsi/accounts -type f -exec </span><span class="token function" style="color:#d73a49">basename</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> .dat </span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="authentication-using-ldap">Authentication using LDAP<a class="hash-link" href="#authentication-using-ldap" title="Direct link to heading">‚Äã</a></h4><p>You can use LDAP to authenticate users. To enable it you have to enable authentication with <code>ENABLE_AUTH</code> and
set <code>AUTH_TYPE</code> to <code>ldap</code>, then configure the settings you can see below.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>LDAP_URL</code></td><td>URL for ldap connection</td><td>ldaps://ldap.domain.com/</td></tr><tr><td><code>LDAP_BASE</code></td><td>LDAP base DN. Can be empty.</td><td>DC=example,DC=domain,DC=com</td></tr><tr><td><code>LDAP_BINDDN</code></td><td>LDAP user DN. Do not specify this parameter for the anonymous bind.</td><td>CN=binduser,OU=users,DC=example,DC=domain,DC=com</td></tr><tr><td><code>LDAP_BINDPW</code></td><td>LDAP user password. Do not specify this parameter for the anonymous bind.</td><td>LdapUserPassw0rd</td></tr><tr><td><code>LDAP_FILTER</code></td><td>LDAP filter.</td><td>(sAMAccountName=%u)</td></tr><tr><td><code>LDAP_AUTH_METHOD</code></td><td>LDAP authentication method.</td><td>bind</td></tr><tr><td><code>LDAP_VERSION</code></td><td>LDAP protocol version</td><td>3</td></tr><tr><td><code>LDAP_USE_TLS</code></td><td>Enable LDAP TLS</td><td>1</td></tr><tr><td><code>LDAP_TLS_CIPHERS</code></td><td>Set TLS ciphers list to allow</td><td>SECURE256:SECURE128</td></tr><tr><td><code>LDAP_TLS_CHECK_PEER</code></td><td>Require and verify LDAP server certificate</td><td>1</td></tr><tr><td><code>LDAP_TLS_CACERT_FILE</code></td><td>Path to CA cert file. Used when server certificate verification is enabled</td><td>/etc/ssl/certs/ca-certificates.crt</td></tr><tr><td><code>LDAP_TLS_CACERT_DIR</code></td><td>Path to CA certs directory. Used when server certificate verification is enabled.</td><td>/etc/ssl/certs</td></tr><tr><td><code>LDAP_START_TLS</code></td><td>Enable START_TLS, requires LDAPv3, URL must be ldap:// not ldaps://</td><td>0</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="authentication-using-jwt-tokens">Authentication using JWT tokens<a class="hash-link" href="#authentication-using-jwt-tokens" title="Direct link to heading">‚Äã</a></h4><p>You can use JWT tokens to authenticate users. To enable it you have to enable authentication with <code>ENABLE_AUTH</code> and
set <code>AUTH_TYPE</code> to <code>jwt</code>, then configure the settings you can see below.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>JWT_APP_ID</code></td><td>Application identifier</td><td>my_jitsi_app_id</td></tr><tr><td><code>JWT_APP_SECRET</code></td><td>Application secret known only to your token</td><td>my_jitsi_app_secret</td></tr><tr><td><code>JWT_ACCEPTED_ISSUERS</code></td><td>(Optional) Set asap_accepted_issuers as a comma separated list</td><td>my_web_client,my_app_client</td></tr><tr><td><code>JWT_ACCEPTED_AUDIENCES</code></td><td>(Optional) Set asap_accepted_audiences as a comma separated list</td><td>my_server1,my_server2</td></tr><tr><td><code>JWT_ASAP_KEYSERVER</code></td><td>(Optional) Set asap_keyserver to a url where public keys can be found</td><td><a href="https://example.com/asap" target="_blank" rel="noopener noreferrer">https://example.com/asap</a></td></tr><tr><td><code>JWT_ALLOW_EMPTY</code></td><td>(Optional) Allow anonymous users with no JWT while validating JWTs when provided</td><td>0</td></tr><tr><td><code>JWT_AUTH_TYPE</code></td><td>(Optional) Controls which module is used for processing incoming JWTs</td><td>token</td></tr><tr><td><code>JWT_TOKEN_AUTH_MODULE</code></td><td>(Optional) Controls which module is used for validating JWTs</td><td>token_verification</td></tr></tbody></table><p>This can be tested using the <a href="https://jwt.io/#debugger-io" target="_blank" rel="noopener noreferrer">jwt.io</a> debugger. Use the following sample payload:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;context&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;user&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;avatar&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://robohash.org/john-doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John Doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jdoe@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;aud&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_jitsi_app_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;iss&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_jitsi_app_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;sub&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;meet.jitsi&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;room&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="shared-document-editing-using-etherpad">Shared document editing using Etherpad<a class="hash-link" href="#shared-document-editing-using-etherpad" title="Direct link to heading">‚Äã</a></h3><p>You can collaboratively edit a document via <a href="https://github.com/ether/etherpad-lite" target="_blank" rel="noopener noreferrer">Etherpad</a>. In order to enable it, set the config options below and run
Docker Compose with the additional config file <code>etherpad.yml</code>.</p><p>Here are the required options:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ETHERPAD_URL_BASE</code></td><td>Set etherpad-lite URL</td><td><a href="http://etherpad.meet.jitsi:9001" target="_blank" rel="noopener noreferrer">http://etherpad.meet.jitsi:9001</a></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="transcription-configuration">Transcription configuration<a class="hash-link" href="#transcription-configuration" title="Direct link to heading">‚Äã</a></h3><p>If you want to enable the Transcribing function, these options are required:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_TRANSCRIPTIONS</code></td><td>Enable Jigasi transcription in a conference</td><td>1</td></tr><tr><td><code>GC_PROJECT_ID</code></td><td><code>project_id</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_PRIVATE_KEY_ID</code></td><td><code>private_key_id</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_PRIVATE_KEY</code></td><td><code>private_key</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_CLIENT_EMAIL</code></td><td><code>client_email</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_CLIENT_ID</code></td><td><code>client_id</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_CLIENT_CERT_URL</code></td><td><code>client_x509_cert_url</code> from Google Cloud Credentials</td><td></td></tr></tbody></table><p>For setting the Google Cloud Credentials please read <a href="https://cloud.google.com/text-to-speech/docs/quickstart-protocol" target="_blank" rel="noopener noreferrer">https://cloud.google.com/text-to-speech/docs/quickstart-protocol</a> section &quot;Before you begin&quot; paragraph 1 to 5.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="advanced-configuration">Advanced configuration<a class="hash-link" href="#advanced-configuration" title="Direct link to heading">‚Äã</a></h3><p>These configuration options are already set and generally don&#x27;t need to be changed.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td><code>XMPP_DOMAIN</code></td><td>Internal XMPP domain</td><td>meet.jitsi</td></tr><tr><td><code>XMPP_AUTH_DOMAIN</code></td><td>Internal XMPP domain for authenticated services</td><td>auth.meet.jitsi</td></tr><tr><td><code>XMPP_SERVER</code></td><td>Internal XMPP server name xmpp.meet.jitsi</td><td>xmpp.meet.jitsi</td></tr><tr><td><code>XMPP_BOSH_URL_BASE</code></td><td>Internal XMPP server URL for BOSH module</td><td><a href="http://xmpp.meet.jitsi:5280" target="_blank" rel="noopener noreferrer">http://xmpp.meet.jitsi:5280</a></td></tr><tr><td><code>XMPP_MUC_DOMAIN</code></td><td>XMPP domain for the MUC</td><td>muc.meet.jitsi</td></tr><tr><td><code>XMPP_INTERNAL_MUC_DOMAIN</code></td><td>XMPP domain for the internal MUC</td><td>internal-muc.meet.jitsi</td></tr><tr><td><code>XMPP_GUEST_DOMAIN</code></td><td>XMPP domain for unauthenticated users</td><td>guest.meet.jitsi</td></tr><tr><td><code>XMPP_RECORDER_DOMAIN</code></td><td>Domain for the jibri recorder</td><td>recorder.meet.jitsi</td></tr><tr><td><code>XMPP_MODULES</code></td><td>Custom Prosody modules for XMPP_DOMAIN (comma separated)</td><td>info,alert</td></tr><tr><td><code>XMPP_MUC_MODULES</code></td><td>Custom Prosody modules for MUC component (comma separated)</td><td>info,alert</td></tr><tr><td><code>XMPP_INTERNAL_MUC_MODULES</code></td><td>Custom Prosody modules for internal MUC component (comma separated)</td><td>info,alert</td></tr><tr><td><code>GLOBAL_MODULES</code></td><td>Custom prosody modules to load in global configuration (comma separated)</td><td>statistics,alert</td></tr><tr><td><code>GLOBAL_CONFIG</code></td><td>Custom configuration string with escaped newlines</td><td>foo = bar;\nkey = val;</td></tr><tr><td><code>RESTART_POLICY</code></td><td>Container restart policy</td><td>defaults to <code>unless-stopped</code></td></tr><tr><td><code>JICOFO_COMPONENT_SECRET</code></td><td>XMPP component password for Jicofo</td><td>s3cr37</td></tr><tr><td><code>JICOFO_AUTH_USER</code></td><td>XMPP user for Jicofo client connections</td><td>focus</td></tr><tr><td><code>JICOFO_AUTH_PASSWORD</code></td><td>XMPP password for Jicofo client connections</td><td>passw0rd</td></tr><tr><td><code>JICOFO_ENABLE_HEALTH_CHECKS</code></td><td>Enable health checks inside Jicofo, allowing the use of the REST api to check Jicofo&#x27;s status</td><td>false</td></tr><tr><td><code>JVB_AUTH_USER</code></td><td>XMPP user for JVB MUC client connections</td><td>jvb</td></tr><tr><td><code>JVB_AUTH_PASSWORD</code></td><td>XMPP password for JVB MUC client connections</td><td>passw0rd</td></tr><tr><td><code>JVB_STUN_SERVERS</code></td><td>STUN servers used to discover the server&#x27;s public IP</td><td>stun.l.google.com:19302, stun1.l.google.com:19302, stun2.l.google.com:19302</td></tr><tr><td><code>JVB_PORT</code></td><td>UDP port for media used by Jitsi Videobridge</td><td>10000</td></tr><tr><td><code>JVB_TCP_HARVESTER_DISABLED</code></td><td>Disable the additional harvester which allows video over TCP (rather than just UDP)</td><td>true</td></tr><tr><td><code>JVB_TCP_PORT</code></td><td>TCP port for media used by Jitsi Videobridge when the TCP Harvester is enabled</td><td>4443</td></tr><tr><td><code>JVB_TCP_MAPPED_PORT</code></td><td>TCP port advertised by Jitsi Videobridge</td><td>4443</td></tr><tr><td><code>JVB_BREWERY_MUC</code></td><td>MUC name for the JVB pool</td><td>jvbbrewery</td></tr><tr><td><code>JVB_ENABLE_APIS</code></td><td>Comma separated list of JVB APIs to enable</td><td>none</td></tr><tr><td><code>JIGASI_XMPP_USER</code></td><td>XMPP user for Jigasi MUC client connections</td><td>jigasi</td></tr><tr><td><code>JIGASI_XMPP_PASSWORD</code></td><td>XMPP password for Jigasi MUC client connections</td><td>passw0rd</td></tr><tr><td><code>JIGASI_BREWERY_MUC</code></td><td>MUC name for the Jigasi pool</td><td>jigasibrewery</td></tr><tr><td><code>JIGASI_PORT_MIN</code></td><td>Minimum port for media used by Jigasi</td><td>20000</td></tr><tr><td><code>JIGASI_PORT_MAX</code></td><td>Maximum port for media used by Jigasi</td><td>20050</td></tr><tr><td><code>JIGASI_ENABLE_SDES_SRTP</code></td><td>Enable SDES srtp</td><td>1</td></tr><tr><td><code>JIGASI_SIP_KEEP_ALIVE_METHOD</code></td><td>Keepalive method</td><td>OPTIONS</td></tr><tr><td><code>JIGASI_HEALTH_CHECK_SIP_URI</code></td><td>Health-check extension. Jigasi will call it for health check</td><td>keepalive</td></tr><tr><td><code>JIGASI_HEALTH_CHECK_INTERVAL</code></td><td>Interval of health check in milliseconds</td><td>300000</td></tr><tr><td><code>JIGASI_TRANSCRIBER_RECORD_AUDIO</code></td><td>Jigasi will record audio when transcriber is on</td><td>true</td></tr><tr><td><code>JIGASI_TRANSCRIBER_SEND_TXT</code></td><td>Jigasi will send a transcribed text to the chat when transcriber is on</td><td>true</td></tr><tr><td><code>JIGASI_TRANSCRIBER_ADVERTISE_URL</code></td><td>Jigasi will post an URL to the chat with transcription file</td><td>true</td></tr><tr><td><code>DISABLE_HTTPS</code></td><td>Handle TLS connections outside of this setup</td><td>1</td></tr><tr><td><code>ENABLE_HTTP_REDIRECT</code></td><td>Redirect HTTP traffic to HTTPS (necessary for Let&#x27;s Encrypt)</td><td>1</td></tr><tr><td><code>LOG_LEVEL</code></td><td>Controls which logs are output from prosody and associated modules</td><td>info</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="running-behind-nat-or-on-a-lan-environment">Running behind NAT or on a LAN environment<a class="hash-link" href="#running-behind-nat-or-on-a-lan-environment" title="Direct link to heading">‚Äã</a></h3><p>If running in a LAN environment (as well as on the public Internet, via NAT) is a requirement,
the <code>DOCKER_HOST_ADDRESS</code> should be set. This way, the Videobridge will advertise the IP address
of the host running Docker instead of the internal IP address that Docker assigned it, thus making <a href="https://en.wikipedia.org/wiki/Interactive_Connectivity_Establishment" target="_blank" rel="noopener noreferrer">ICE</a>
succeed. If your users are coming in over the Internet (and not over LAN), this will likely be your public IP address. If this is not set up correctly, calls will crash when more than two users join a meeting.</p><p>The public IP address is discovered via <a href="https://en.wikipedia.org/wiki/STUN" target="_blank" rel="noopener noreferrer">STUN</a>. STUN servers can be specified with the <code>JVB_STUN_SERVERS</code>
option.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="build-instructions">Build Instructions<a class="hash-link" href="#build-instructions" title="Direct link to heading">‚Äã</a></h2><p>Building your images allows you to edit the configuration files of each image individually, providing more customization for your deployment.</p><p>The docker images can be built by running the <code>make</code> command in the main repository folder. If you need to overwrite existing images from the remote source, use <code>FORCE_REBUILD=1 make</code>.</p><p>If you are on the unstable branch, build the images with <code>FORCE_REBUILD=1 JITSI_RELEASE=unstable make</code>.</p><p>You are now able to run <code>docker-compose up</code> as usual.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="running-behind-a-reverse-proxy">Running behind a reverse proxy<a class="hash-link" href="#running-behind-a-reverse-proxy" title="Direct link to heading">‚Äã</a></h2><p>By default this setup is using WebSocket connections for 2 core components:</p><ul><li>Sinalling (XMPP)</li><li>Bridge channel (colibri)</li></ul><p>Due to the hop-by-hop nature of WebSockets the reverse proxy must properly terminate and forward WebSocket connections. There 2 routes require such treatment:</p><ul><li>/xmpp-websocket</li><li>/colibri-ws</li></ul><p>With nginx, these routes can be forwarded using the following config snippet:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">location /xmpp-websocket {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass https://localhost:8443;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_http_version 1.1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_set_header Upgrade $http_upgrade;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_set_header Connection &quot;upgrade&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">location /colibri-ws {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass https://localhost:8443;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_http_version 1.1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_set_header Upgrade $http_upgrade;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_set_header Connection &quot;upgrade&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>With apache, <code>mod_proxy</code> and <code>mod_proxy_wstunnel</code> need to be enabled and these routes can be forwarded using the following config snippet:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;IfModule mod_proxy.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;IfModule mod_proxy_wstunnel.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ProxyTimeout 900</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Location &quot;/xmpp-websocket&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProxyPass &quot;wss://localhost:8443/xmpp-websocket&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Location&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Location &quot;/colibri-ws/&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ProxyPass &quot;wss://localhost:8443/colibri-ws/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Location&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>https://localhost:8443/</code> is the url of the web service&#x27;s ingress.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="disabling-websocket-connections">Disabling WebSocket connections<a class="hash-link" href="#disabling-websocket-connections" title="Direct link to heading">‚Äã</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This is not the recommended setup.</p></div></div><p>If using WebSockets is not an option, these environment variables can be set to fallback to HTTP polling and WebRTC datachannels:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">ENABLE_SCTP</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">ENABLE_COLIBRI_WEBSOCKET</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">ENABLE_XMPP_WEBSOCKET</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jitsi/handbook/edit/master/website/../docs/devops-guide/docker.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-03-11T13:14:47.000Z">3/11/2022</time></b> by <b>Sa√∫l Ibarra Corretg√©</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/handbook/docs/devops-guide/devops-guide-opensuse"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">openSUSE</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/handbook/docs/devops-guide/devops-guide-manual"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Manual installation</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick start</a><ul><li><a href="#testing-development-builds" class="table-of-contents__link toc-highlight">Testing development builds</a></li><li><a href="#running-unstable-images" class="table-of-contents__link toc-highlight">Running unstable images</a></li><li><a href="#security-note" class="table-of-contents__link toc-highlight">Security note</a></li></ul></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#external-ports" class="table-of-contents__link toc-highlight">External Ports</a></li><li><a href="#images" class="table-of-contents__link toc-highlight">Images</a></li><li><a href="#design-considerations" class="table-of-contents__link toc-highlight">Design considerations</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#lets-encrypt-configuration" class="table-of-contents__link toc-highlight">Let&#39;s Encrypt configuration</a></li><li><a href="#sip-gateway-configuration" class="table-of-contents__link toc-highlight">SIP gateway configuration</a></li><li><a href="#jitsi-broadcasting-infrastructure-jibri-configuration" class="table-of-contents__link toc-highlight">Jitsi Broadcasting Infrastructure (Jibri) configuration</a></li><li><a href="#jitsi-meet-web-configuration" class="table-of-contents__link toc-highlight">Jitsi-Meet web configuration</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#shared-document-editing-using-etherpad" class="table-of-contents__link toc-highlight">Shared document editing using Etherpad</a></li><li><a href="#transcription-configuration" class="table-of-contents__link toc-highlight">Transcription configuration</a></li><li><a href="#advanced-configuration" class="table-of-contents__link toc-highlight">Advanced configuration</a></li><li><a href="#running-behind-nat-or-on-a-lan-environment" class="table-of-contents__link toc-highlight">Running behind NAT or on a LAN environment</a></li></ul></li><li><a href="#build-instructions" class="table-of-contents__link toc-highlight">Build Instructions</a></li><li><a href="#running-behind-a-reverse-proxy" class="table-of-contents__link toc-highlight">Running behind a reverse proxy</a><ul><li><a href="#disabling-websocket-connections" class="table-of-contents__link toc-highlight">Disabling WebSocket connections</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/user-guide">User guide</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/dev-guide">Developer guide</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/devops-guide">Self-hosting guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://community.jitsi.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/jitsinews" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://jitsi.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/jitsi" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://jaas.8x8.vc" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>JaaS: Jitsi as a Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 8x8, Inc.</div></div></div></footer></div>
<script src="/handbook/assets/js/runtime~main.59783452.js"></script>
<script src="/handbook/assets/js/main.a9d5cd87.js"></script>
</body>
</html>